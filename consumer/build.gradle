configurations {
    sharedConfiguration {
        canBeConsumed = false
        canBeResolved = true
    }
}

dependencies {
    sharedConfiguration(project("path": ":producer", "configuration": "sharedConfiguration"))
}

def sharedConfiguration = configurations.getByName("sharedConfiguration")

tasks.register("showFile") {
    it.inputs.files(sharedConfiguration)
    it.doFirst {
        logger.lifecycle("File is at {}", sharedConfiguration.singleFile.absolutePath)
    }
}
